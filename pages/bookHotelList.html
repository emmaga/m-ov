<div ng-controller="bookHotelListController as bhl" ng-init="bhl.init()">

    <div class="bar bar-header bar-light mod-fixed">
        <h1 class="title">{{'bookHotel'|translate}}</h1>
        <button class="button button-icon icon ion-navicon" ng-click="root.showMainMenu()"></button>
    </div>

    <div class=" padding">
        <!-- doodle/海报 -->
        
        <iframe class="mod-doodle" ng-src="{{root.params.projectInfo.projectImgSrc}}"> </iframe>
        
        <div class="mod-split-line mod-thin mod-break-padding" style="margin-top: 10px;"></div>
        <!-- 筛选/查询 -->
        <div class="list padding mod-inset-forms">
            <div class="item item-input item-stacked-label mod-no-ativated"  ng-click="bhl.showCP(true); cp.init(bhl.cityLists, bhl.doAfterPickCity)" >
           <!--  <div class="item item-input item-stacked-label mod-no-ativated"  ng-click="bhl.showCityModal(); cp.init(bhl.cityLists, bhl.doAfterPickCity)" > -->
                <span class="input-label">{{'placeToGo'|translate}}</span>
                <p class="mod-select-input  mod-color-theme">{{bhl.cityInfo.name}}</p>
            </div>
            <div class="item item-input item-stacked-label mod-no-ativated" ng-click="bhl.showDP(true); tdp.init(bhl.checkin, bhl.checkout,null , null, bhl.doAfterPickDates);">
            <!-- <div class="item item-input item-stacked-label mod-no-ativated" ng-click="bhl.showDateModal();tdp.init(bhl.checkin, bhl.checkout,null , null, bhl.doAfterPickDates);"> -->
                <span class="input-label">{{'date'|translate}}</span>
                <p class="mod-select-input mod-color-theme">{{bhl.checkin | date:'MM月dd日'}}{{'checkIn'|translate}} > {{bhl.checkout | date:'MM月dd日'}}{{'checkOut'|translate}}&nbsp·&nbsp{{'total'|translate}}{{bhl.stayDays}}{{'days'|translate}}</p> 
                
            </div>
            <div class="mod-split-line mod-break-2padding"></div>
        </div>
        <!-- 搜索结果 -->
        <ion-spinner icon="dots" class="mod-spinner-list" ng-hide="bhl.loadingIcon"></ion-spinner>
        <h3 class="mod-font-light mod-text-indent" ng-show="bhl.loadingIcon">{{'searchResultA'|translate}}{{bhl.hotelNum}}{{'searchResultB'|translate}}</h3>

        
        <div class="card mod-flat" ng-repeat="hotel in bhl.hotels"  ui-sref="bookRoomList({hotelId:hotel.hotelId,checkIn:bhl.checkin,checkOut:bhl.checkout})" ng-show="bhl.loadingIcon">
            <div class="item mod-no-border">
                <p>
                    <i class="icon ion-ios-location"></i>
                    {{hotel.hotelAddress}}
                </p>
                <div class="full-image mod-cover mod-radius mod-4x3" style="background-image: url({{hotel.hotelImgSrc}});"></div>
            </div>
            <div class="item mod-no-border ">
                <h2 class="mod-member-price">￥{{hotel.hotelMemberPri}}{{'minPrice'|translate}}</h2>
                <p class="mod-price-tag mod-member0">微信会员价</p>
                <br>
                <p class="mod-display-inlineblock">{{hotel.hotelName}}</p>
                <!-- <span ng-repeat="feature in hotel.features">{{feature.name}}{{feature.icon}}</span> -->
            </div>
            <div class="mod-split-line mod-15shorter"></div>
        </div>
        <p ng-show="bhl.loadingIcon && bhl.hotelNum==0 ">很抱歉，您选择的条件搜索无结果</p>


    </div>


    <!-- date picker start-->
    <div class="ab-container" ng-show="bhl.datePickerShow">
        <div class="bar bar-header">
            <button class="button button-clear button-positive" ng-click="bhl.showDP(false)">{{'back'|translate}}</button>
        </div>
        <travel-date-picker></travel-date-picker>
    </div>
    <!-- date picker start-->

    <!-- city picker start-->
    <div class="ab-container" ng-show="bhl.cityPickerShow">
        <div class="bar bar-header">
            <button class="button button-clear button-positive" ng-click="bhl.showCP(false)">{{'back'|translate}}</button>
        </div>
        <city-picker></city-picker>
    </div>
    <!-- city picker end-->
   
</div>    
