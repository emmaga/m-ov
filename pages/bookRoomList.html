<div ng-controller="bookRoomListController as brl" ng-init="brl.beforeInit()">
    <div class="bar bar-header bar-light mod-fixed">
        <h1 class="title">{{brl.hotel.Name}}</h1>
        <!-- <button class="button button-icon icon ion-navicon" ng-click="root.showMainMenu(true)"></button> -->
    </div>
    <!-- 内容 -->
    <div class="padding mod-has-header">
        <!-- 轮播 -->
        <ion-slide-box on-slide-changed="slideHasChanged($index)" class="mod-doodle">
            <ion-slide ng-repeat="img in brl.hotel.Gallery">
                <img style="width: 100%; height: 100%;" ng-src="{{img.ImageURL}}">
            </ion-slide>
        </ion-slide-box>
        <div class="mod-split-line mod-thin mod-break-padding" style="margin-top: 10px;"></div>
        <!-- info -->
        <div class="list mod-inset-forms">
            <a class="item" ui-sref="hotelInfo({hotelId:brl.hotelId})">
                <span class="mod-tag" ng-repeat="feature in brl.hotel.Features">
                    <i class="icon mod-icon {{feature.ImageURL}}"></i>
                    {{feature.Name}}
                </span>
                <span class="item-note">
                    {{'detail'|translate}}
                    <i class="icon ion-ios-arrow-right"></i>
                </span>
            </a>
            <!-- <a class="item" href="{{brl.locationHref}}"> -->
            <a class="item" ng-click="brl.map()">
                <i class="icon ion-ios-location-outline"></i> {{brl.hotel.Address}}
                <span class="item-note">
                    {{'map'|translate}}
                    <i class="icon ion-ios-arrow-right"></i>
                </span>
            </a>
            <div class="mod-split-line mod-break-padding"></div>
            <!-- 查询 -->
            <!-- <div class="list padding mod-inset-forms"> -->
            <div class="item item-input item-stacked-label mod-no-ativated" ng-click="brl.showDP(true); tdp.init(brl.checkIn, brl.checkOut,null , null, brl.doAfterPickDates);">
                <span class="input-label">{{'date'|translate}}</span>
                <p class="mod-select-input mod-color-theme">{{brl.checkIn | date:'M.d'}}{{'checkIn'|translate}} > {{brl.checkOut | date:'M.d'}}{{'checkOut'|translate}}&nbsp&nbsp{{'total'|translate}}{{brl.stayDays}}{{'night'|translate}}</p>
            </div>
            <div class="mod-split-line mod-break-padding"></div>
        </div>
        <!-- 客房列表 -->
        <div class="list mod-inset-forms">
            <!-- 卡片 -->
            <div class="card mod-flat wx-touch-hack" ng-repeat="room in brl.rooms" ng-click="brl.nextState(room.ID,brl.checkIn,brl.checkOut,room.AvailableNumList)">
                <div class="item mod-no-border">
                    <!-- <p>
                        <i class="icon ion-ios-location"></i>
                        {{hotel.Address}}
                    </p> -->
                    <div class="full-image mod-cover mod-radius mod-4x3" style="background-image: url({{img.ImageURL}});" ng-repeat="img in room.Gallery track by $index" ng-if="$index==0"></div>
                </div>
                <div class="item mod-no-border">
                    <h2 class="mod-member-price">{{room.RoomTypeName}}</h2>
                    <p class="mod-price-tag mod-member0">{{'wxMemberPrice'|translate}}</p>
                    <br>
                    <p class="mod-display-inlineblock">{{room.Description}}</p>
                    <!-- <span ng-repeat="feature in hotel.features">{{feature.name}}{{feature.icon}}</span> -->
                    <p>
                        <span class="mod-tag mod-tag-small" ng-repeat="feature in room.Features">
                            <i class="icon {{feature.icon}}">{{feature.Name}}</i>
                        </span>
                    </p>
                    <!-- 价格和预订按钮 -->
                    <span class="item-note">
                        <h2 class="mod-member-price" ng-class="{'mod-color-cold':(room.Refund==0),'mod-color-excited':!(room.Refund==0)}">￥{{room.PriceInfo.AvaragePrice  |  fenToYuan}}<small>/{{'days'|translate}}</small></h2>
                        <button class="button button-small button-block mod-no-margin-top"  ng-class="{class1:!brl.roomCheckAvail(room.AvailableNumList,'availableNum'),'button-assertive':brl.roomCheckAvail(room.AvailableNumList,'availableNum')}">
                            <span class="mod-color-cold" ng-if="!brl.roomCheckAvail(room.AvailableNumList,'availableNum')">{{'bookSoldOut'|translate}}</span>
                            <span ng-if="brl.roomCheckAvail(room.AvailableNumList,'availableNum')">{{'booking'|translate}}</span>
                            <i ng-if="brl.roomCheckAvail(room.AvailableNumList,'availableNum')" class="icon ion-ios-arrow-right"></i>
                        </button>
                    </span>
                </div>
                <div class="mod-split-line mod-15shorter"></div>
            </div>
            <!-- 卡片 end -->
            <!-- thumbnail item-->
            <!-- 
            <a class="item item-thumbnail-left mod-no-side-border" ng-repeat="room in brl.rooms" ng-click="brl.nextState(room.ID,brl.checkIn,brl.checkOut,room.AvailableNumList)">
                <div class="full-image mod-cover mod-radius mod-img-in-thumbnail" style="background-image: url({{img.ImageURL}});" ng-repeat="img in room.Gallery track by $index" ng-if="$index==0"></div>
                <span class="item-note">
                    <h2 class="mod-member-price" ng-class="{'mod-color-cold':(room.Refund==0),'mod-color-excited':!(room.Refund==0)}">￥{{room.PriceInfo.AvaragePrice  |  fenToYuan}}<small>/{{'days'|translate}}</small></h2>
                    <button class="button button-small button-block mod-no-margin-top"  ng-class="{class1:!brl.roomCheckAvail(room.AvailableNumList,'availableNum'),'button-assertive':brl.roomCheckAvail(room.AvailableNumList,'availableNum')}">
                        <span class="mod-color-cold" ng-if="!brl.roomCheckAvail(room.AvailableNumList,'availableNum')">{{'bookSoldOut'|translate}}</span>
                <span ng-if="brl.roomCheckAvail(room.AvailableNumList,'availableNum')">{{'booking'|translate}}</span>
                <i ng-if="brl.roomCheckAvail(room.AvailableNumList,'availableNum')" class="icon ion-ios-arrow-right"></i>
                </button>
                </span>
                <h2>{{room.RoomTypeName}}</h2>
                <p>{{room.Description}}</p>
                <p>
                    <span class="mod-tag mod-tag-small" ng-repeat="feature in room.Features">
                        <i class="icon {{feature.icon}}">{{feature.Name}}</i>
                    </span>
                </p>
            </a> -->
            <!-- thumbnail item end -->
        </div>
        <p ng-show="brl.showLoadingBool.searchRoomListBool ==true && brl.rooms.length == 0">{{'noResults'|translate}}</p>
        <!-- date picker start-->
        <div class="ab-container" ng-show="brl.datePickerShow">
            <div class="bar bar-header">
                <button class="button button-clear button-positive" ng-click="brl.showDP(false)">{{'back'|translate}}</button>
            </div>
            <travel-date-picker></travel-date-picker>
        </div>
        <!-- date picker start-->
    </div>
</div>
